{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","searchString","handleSearchChange","Person","name","number","handleDelete","className","onClick","Persons","persons","map","id","key","baseUrl","axios","get","then","response","data","newObject","post","delete","status","put","Notification","message","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","setPersons","setNewName","setNewNumber","setSearchString","notification","setNotification","notificationColor","setNotificationColor","useEffect","personService","numbers","cleanUpNotificationWithTimeOut","setTimeout","handleError","filter","person","shownPersons","toLowerCase","includes","event","target","preventDefault","personWithSameName","find","window","confirm","personObject","updatedPerson","catch","error","createdPerson","concat","statusCode","ReactDOM","render","document","getElementById"],"mappings":"mQAwBeA,EAtBI,SAAC,GAMb,IALLC,EAKI,EALJA,aACAC,EAII,EAJJA,QACAC,EAGI,EAHJA,iBACAC,EAEI,EAFJA,UACAC,EACI,EADJA,mBAEA,OACE,0BAAMC,SAAUL,GACd,sCACQ,2BAAOM,MAAOL,EAASM,SAAUL,KAEzC,wCACU,2BAAOI,MAAOH,EAAWI,SAAUH,KAE7C,6BACE,4BAAQI,KAAK,UAAb,UCTOC,EAPA,SAAC,GAAD,IAAGC,EAAH,EAAGA,aAAcC,EAAjB,EAAiBA,mBAAjB,OACb,iDACoB,IAClB,2BAAOL,MAAOI,EAAcH,SAAUI,MCS3BC,G,MAXA,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,aAAjB,OACb,6BACE,uBAAGC,UAAU,UACVH,EADH,IACUC,GAEV,4BAAQE,UAAU,SAASC,QAASF,GAApC,aCUWG,EAfC,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASJ,EAAmB,EAAnBA,aAC1B,OACE,oCACGI,EAAQC,KAAI,gBAAGP,EAAH,EAAGA,KAAMC,EAAT,EAASA,OAAQO,EAAjB,EAAiBA,GAAjB,OACX,kBAAC,EAAD,CACEC,IAAKD,EACLR,KAAMA,EACNC,OAAQA,EACRC,aAAc,kBAAMA,EAAaM,W,gBCTrCE,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAACC,GAAD,OAAcA,EAASC,SAkB9B,EAfA,SAACC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAACC,GAAD,OAAcA,EAASC,SAa9B,EAVM,SAACP,GAEpB,OADgBG,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BF,IAC5BK,MAAK,SAACC,GAAD,OAAcA,EAASK,WAQ9B,EALM,SAACX,EAAIQ,GAExB,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBF,GAAMQ,GAC/BH,MAAK,SAACC,GAAD,OAAcA,EAASC,SCE9BM,EArBM,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,QAChBC,EAAoB,CACxBC,MAFyC,EAAZA,MAG7BC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAGhB,OAAgB,OAAZR,EACK,KAGP,yBAAKnB,UAAU,eAAe4B,MAAOR,GAClCD,IC8GQU,EAzHH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACT3B,EADS,KACA4B,EADA,OAEcD,mBAAS,IAFvB,mBAET7C,EAFS,KAEA+C,EAFA,OAGkBF,mBAAS,IAH3B,mBAGT3C,EAHS,KAGE8C,EAHF,OAIwBH,mBAAS,IAJjC,mBAITpC,EAJS,KAIKwC,EAJL,OAKwBJ,mBAAS,MALjC,mBAKTK,EALS,KAKKC,EALL,OAMkCN,mBAAS,SAN3C,mBAMTO,EANS,KAMUC,EANV,KAQhBC,qBAAU,WACRC,IAAuB9B,MAAK,SAAC+B,GAAD,OAAaV,EAAWU,QACnD,IAEH,IAYMC,EAAiC,WACrCC,YAAW,kBAAMP,EAAgB,QAAO,MA2CpCQ,EAAc,SAAC/C,EAAMQ,GACzB0B,EAAW5B,EAAQ0C,QAAO,SAACC,GAAD,OAAYA,EAAOzC,KAAOA,MACpD+B,EAAgB,kBAAD,OACKvC,EADL,0CAGfyC,EAAqB,OACrBI,KAqBIK,EAAe5C,EAAQ0C,QAAO,qBAAGhD,KAChCmD,cAAcC,SAASvD,EAAasD,kBAG3C,OACE,6BACE,yCACA,kBAAC,EAAD,CAAc7B,QAASgB,EAAcd,MAAOgB,IAC5C,kBAAC,EAAD,CACE3C,aAAcA,EACdC,mBArFqB,SAACuD,GAC1BhB,EAAgBgB,EAAMC,OAAO7D,UAsF3B,yCACA,kBAAC,EAAD,CACEN,aAjFe,SAACkE,GACpBA,EAAME,iBACN,IAAMC,EAAqBlD,EAAQmD,MAAK,qBAAGzD,OAAoBZ,KAC/D,GAAIoE,GAIF,GAH6BE,OAAOC,QAAP,UACxBvE,EADwB,2EAGH,CACxB,IAAMwE,EAAY,2BAAQJ,GAAR,IAA4BvD,OAAQX,IACtDqD,EACgBiB,EAAapD,GAAIoD,GAC9B/C,MAAK,SAACgD,GACLtB,EAAgB,GAAD,OACVsB,EAAc7D,KADJ,8BAC8B6D,EAAc5D,SAE3DwC,EAAqB,SACrBP,EACE5B,EAAQC,KAAI,SAAC0C,GAAD,OACVA,EAAOzC,KAAOqD,EAAcrD,GAAKqD,EAAgBZ,MAGrDJ,OAEDiB,OAAM,SAACC,GACNhB,EAAY3D,EAASoE,EAAmBhD,aAK9CmC,EADqB,CAAE3C,KAAMZ,EAASa,OAAQX,IACXuB,MAAK,SAACmD,GACvC9B,EAAW5B,EAAQ2D,OAAOD,IAC1B7B,EAAW,IACXC,EAAa,IACbG,EAAgB,GAAD,OAAIyB,EAAchE,KAAlB,WACfyC,EAAqB,SACrBI,QA+CAzD,QAASA,EACTC,iBAnGmB,SAACgE,GACxBlB,EAAWkB,EAAMC,OAAO7D,QAmGpBH,UAAWA,EACXC,mBAjGqB,SAAC8D,GAC1BjB,EAAaiB,EAAMC,OAAO7D,UAkGxB,uCACA,kBAAC,EAAD,CAASa,QAAS4C,EAAchD,aAvCf,SAACM,GACpB,IAAMyC,EAAS3C,EAAQmD,MAAK,SAACR,GAAD,OAAYA,EAAOzC,KAAOA,KACpCkD,OAAOC,QAAP,iBAAyBV,EAAOjD,KAAhC,QAEhB2C,EACgBnC,GACbK,MAAK,SAACqD,GACLhC,EAAW5B,EAAQ0C,QAAO,SAACC,GAAD,OAAYA,EAAOzC,KAAOA,MACpD+B,EAAgB,GAAD,OAAIU,EAAOjD,KAAX,iBACfyC,EAAqB,SACrBI,OAEDiB,OAAM,SAACC,GACNhB,EAAYE,EAAOjD,KAAMiD,EAAOzC,YC5F1C2D,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.28695af0.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  handleSubmit,\r\n  newName,\r\n  handleNameChange,\r\n  newNumber,\r\n  handleNumberChange,\r\n}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ searchString, handleSearchChange }) => (\r\n  <div>\r\n    filter shown with{\" \"}\r\n    <input value={searchString} onChange={handleSearchChange} />\r\n  </div>\r\n);\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\nimport \"./Person.css\";\r\n\r\nconst Person = ({ name, number, handleDelete }) => (\r\n  <div>\r\n    <p className=\"person\">\r\n      {name} {number}\r\n    </p>\r\n    <button className=\"delete\" onClick={handleDelete}>\r\n      delete\r\n    </button>\r\n  </div>\r\n);\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n  return (\r\n    <>\r\n      {persons.map(({ name, number, id }) => (\r\n        <Person\r\n          key={id}\r\n          name={name}\r\n          number={number}\r\n          handleDelete={() => handleDelete(id)}\r\n        />\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\n// const baseUrl = \"http://localhost:3001/api/persons\";\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteNumber = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.status);\r\n};\r\n\r\nconst updateNumber = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  deleteNumber,\r\n  updateNumber,\r\n};\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, color }) => {\r\n  const notificationStyle = {\r\n    color,\r\n    background: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  };\r\n\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className=\"notification\" style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [searchString, setSearchString] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n  const [notificationColor, setNotificationColor] = useState(\"green\");\n\n  useEffect(() => {\n    personService.getAll().then((numbers) => setPersons(numbers));\n  }, []);\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleSearchChange = (event) => {\n    setSearchString(event.target.value);\n  };\n\n  const cleanUpNotificationWithTimeOut = () => {\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const personWithSameName = persons.find(({ name }) => name === newName);\n    if (personWithSameName) {\n      const replacePersonsNumber = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n      if (replacePersonsNumber) {\n        const personObject = { ...personWithSameName, number: newNumber };\n        personService\n          .updateNumber(personObject.id, personObject)\n          .then((updatedPerson) => {\n            setNotification(\n              `${updatedPerson.name} number updated to ${updatedPerson.number}`\n            );\n            setNotificationColor(\"green\");\n            setPersons(\n              persons.map((person) =>\n                person.id === updatedPerson.id ? updatedPerson : person\n              )\n            );\n            cleanUpNotificationWithTimeOut();\n          })\n          .catch((error) => {\n            handleError(newName, personWithSameName.id);\n          });\n      }\n    } else {\n      const personObject = { name: newName, number: newNumber };\n      personService.create(personObject).then((createdPerson) => {\n        setPersons(persons.concat(createdPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setNotification(`${createdPerson.name} added`);\n        setNotificationColor(\"green\");\n        cleanUpNotificationWithTimeOut();\n      });\n    }\n  };\n\n  const handleError = (name, id) => {\n    setPersons(persons.filter((person) => person.id !== id));\n    setNotification(\n      `Information of ${name} has already been removed from server`\n    );\n    setNotificationColor(\"red\");\n    cleanUpNotificationWithTimeOut();\n  };\n\n  const handleDelete = (id) => {\n    const person = persons.find((person) => person.id === id);\n    const confirmed = window.confirm(`Delete ${person.name} ?`);\n    if (confirmed) {\n      personService\n        .deleteNumber(id)\n        .then((statusCode) => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setNotification(`${person.name} was deleted`);\n          setNotificationColor(\"green\");\n          cleanUpNotificationWithTimeOut();\n        })\n        .catch((error) => {\n          handleError(person.name, person.id);\n        });\n    }\n  };\n\n  const shownPersons = persons.filter(({ name }) =>\n    name.toLowerCase().includes(searchString.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} color={notificationColor} />\n      <Filter\n        searchString={searchString}\n        handleSearchChange={handleSearchChange}\n      />\n      <h2>add a new</h2>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={shownPersons} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}